{"version":3,"file":"static/js/352.b5efb96b.chunk.js","mappings":"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","sources":["Admin/Pages/AdminDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { \r\n  Building2, \r\n  Users, \r\n  UserCheck,\r\n  MessageSquare,\r\n  CreditCard,\r\n  AlertCircle\r\n} from 'lucide-react';\r\nimport { API_ENDPOINTS } from '../../config/api.config';\r\nimport { adminFetch } from '../utils/adminFetch';\r\nimport '../style/AdminDashboard.css';\r\n\r\nconst AdminDashboard = () => {\r\n  const navigate = useNavigate();\r\n  const [stats, setStats] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [propertyTypes, setPropertyTypes] = useState([]);\r\n  const [recentProperties, setRecentProperties] = useState([]);\r\n  const [recentInquiries, setRecentInquiries] = useState([]);\r\n  const [dateRange, setDateRange] = useState('7d'); // '7d', '30d', '90d', 'all'\r\n\r\n  useEffect(() => {\r\n    fetchDashboardStats();\r\n    \r\n    // Auto-refresh every 30 seconds\r\n    const interval = setInterval(() => {\r\n      fetchDashboardStats();\r\n    }, 30000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [dateRange]);\r\n\r\n  const fetchDashboardStats = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (dateRange !== 'all') {\r\n        params.append('date_range', dateRange);\r\n      }\r\n      const endpoint = `${API_ENDPOINTS.ADMIN_DASHBOARD_STATS}${params.toString() ? '?' + params.toString() : ''}`;\r\n      const statsData = await adminFetch(endpoint);\r\n        \r\n        // Format stats for display with navigation paths\r\n        const formattedStats = [\r\n          {\r\n            title: 'Total Properties',\r\n            value: statsData.total_properties?.toString() || '0',\r\n            change: `${statsData.pending_properties || 0} pending`,\r\n            trend: 'up',\r\n            icon: Building2,\r\n            color: '#3b82f6',\r\n            path: '/admin/properties'\r\n          },\r\n          {\r\n            title: 'Total Users',\r\n            value: statsData.total_users?.toString() || '0',\r\n            change: `${statsData.users_by_type?.buyer || 0} buyers, ${statsData.users_by_type?.seller || 0} sellers`,\r\n            trend: 'up',\r\n            icon: Users,\r\n            color: '#8b5cf6',\r\n            path: '/admin/users'\r\n          },\r\n          {\r\n            title: 'Active Agents',\r\n            value: statsData.total_agents?.toString() || '0',\r\n            change: `${statsData.total_agents ?? 0} total agents`,\r\n            trend: 'up',\r\n            icon: UserCheck,\r\n            color: '#06b6d4',\r\n            path: '/admin/agents'\r\n          },\r\n          {\r\n            title: 'Total Inquiries',\r\n            value: statsData.total_inquiries?.toString() || '0',\r\n            change: `${statsData.new_inquiries || 0} new this week`,\r\n            trend: 'up',\r\n            icon: MessageSquare,\r\n            color: '#10b981',\r\n            path: '/admin/inquiries'\r\n          },\r\n          {\r\n            title: 'Active Subscriptions',\r\n            value: statsData.active_subscriptions?.toString() || '0',\r\n            change: `${statsData.expired_subscriptions || 0} expired`,\r\n            trend: 'up',\r\n            icon: CreditCard,\r\n            color: '#8b5cf6',\r\n            path: '/admin/subscriptions'\r\n          }\r\n        ];\r\n\r\n        setStats(formattedStats);\r\n        setPropertyTypes(statsData.property_types_distribution || []);\r\n        setRecentProperties(statsData.recent_properties || []);\r\n        setRecentInquiries(statsData.recent_inquiries || []);\r\n    } catch (err) {\r\n      setError(err.message || 'Failed to load dashboard data.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Dynamic color palette for property types - generates colors based on type name hash\r\n  const generateColorFromType = (typeName) => {\r\n    if (!typeName) return '#64748b';\r\n    \r\n    // Hash function to generate consistent colors\r\n    let hash = 0;\r\n    for (let i = 0; i < typeName.length; i++) {\r\n      hash = typeName.charCodeAt(i) + ((hash << 5) - hash);\r\n    }\r\n    \r\n    // Generate HSL color with good saturation and lightness\r\n    const hue = Math.abs(hash) % 360;\r\n    const saturation = 60 + (Math.abs(hash) % 20); // 60-80%\r\n    const lightness = 45 + (Math.abs(hash) % 15); // 45-60%\r\n    \r\n    return `hsl(${hue}, ${saturation}%, ${lightness}%)`;\r\n  };\r\n\r\n  const getColorForType = (typeName) => {\r\n    // Fallback to predefined colors for common types, otherwise generate dynamically\r\n    const predefinedColors = {\r\n      'Apartment': '#3b82f6',\r\n      'House': '#10b981',\r\n      'Villa': '#8b5cf6',\r\n      'Commercial': '#f59e0b',\r\n      'Land': '#06b6d4',\r\n      'Plot': '#ef4444',\r\n      'Office': '#6366f1'\r\n    };\r\n    \r\n    return predefinedColors[typeName] || generateColorFromType(typeName);\r\n  };\r\n\r\n  // Calculate pie chart segments\r\n  const calculatePieChart = () => {\r\n    if (!propertyTypes || propertyTypes.length === 0) return null;\r\n    \r\n    const total = propertyTypes.reduce((sum, type) => sum + type.count, 0);\r\n    if (total === 0) return null;\r\n\r\n    const circumference = 2 * Math.PI * 80; // radius = 80\r\n    let offset = 0;\r\n    \r\n    return propertyTypes.map((type, index) => {\r\n      const percentage = (type.count / total) * 100;\r\n      const dashArray = (percentage / 100) * circumference;\r\n      const dashOffset = -offset;\r\n      offset += dashArray;\r\n      \r\n      return {\r\n        ...type,\r\n        percentage: percentage.toFixed(1),\r\n        dashArray: `${dashArray} ${circumference}`,\r\n        dashOffset: dashOffset,\r\n        color: getColorForType(type.name)\r\n      };\r\n    });\r\n  };\r\n\r\n  const pieSegments = calculatePieChart();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"admin-dashboard\">\r\n        <div className=\"admin-dashboard-header\">\r\n          <div>\r\n            <h1>Dashboard</h1>\r\n            <p>Loading dashboard data...</p>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Loading Skeletons */}\r\n        <div className=\"admin-stats-grid\">\r\n          {[1, 2, 3, 4, 5, 6].map((i) => (\r\n            <div key={i} className=\"admin-stat-card\" style={{ opacity: 0.6 }}>\r\n              <div className=\"admin-stat-header\">\r\n                <div className=\"admin-stat-title\" style={{ \r\n                  background: '#e2e8f0', \r\n                  height: '16px', \r\n                  width: '100px', \r\n                  borderRadius: '4px',\r\n                  animation: 'pulse 1.5s ease-in-out infinite'\r\n                }}></div>\r\n                <div className=\"admin-stat-icon\" style={{ \r\n                  background: '#e2e8f0',\r\n                  animation: 'pulse 1.5s ease-in-out infinite'\r\n                }}></div>\r\n              </div>\r\n              <div className=\"admin-stat-value\" style={{ \r\n                background: '#e2e8f0', \r\n                height: '32px', \r\n                width: '80px', \r\n                borderRadius: '4px',\r\n                animation: 'pulse 1.5s ease-in-out infinite'\r\n              }}></div>\r\n              <div style={{ \r\n                background: '#e2e8f0', \r\n                height: '14px', \r\n                width: '120px', \r\n                borderRadius: '4px',\r\n                marginTop: '8px',\r\n                animation: 'pulse 1.5s ease-in-out infinite'\r\n              }}></div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        \r\n        <style>{`\r\n          @keyframes pulse {\r\n            0%, 100% { opacity: 1; }\r\n            50% { opacity: 0.5; }\r\n          }\r\n        `}</style>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"admin-dashboard\">\r\n        <div className=\"admin-dashboard-header\">\r\n          <h1>Dashboard</h1>\r\n          <div style={{ color: '#ef4444', marginTop: '20px' }}>\r\n            <AlertCircle size={20} style={{ marginRight: '8px', verticalAlign: 'middle' }} />\r\n            {error}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-dashboard\">\r\n      <div className=\"admin-dashboard-header\">\r\n        <div>\r\n          <h1>Dashboard</h1>\r\n          <p>Welcome back! Here's an overview of your platform. <span style={{ fontSize: '12px', color: '#64748b' }}>(Auto-refreshes every 30s)</span></p>\r\n        </div>\r\n        <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n          <select \r\n            value={dateRange} \r\n            onChange={(e) => setDateRange(e.target.value)}\r\n            style={{\r\n              padding: '8px 12px',\r\n              border: '1px solid #e2e8f0',\r\n              borderRadius: '6px',\r\n              fontSize: '14px',\r\n              cursor: 'pointer',\r\n              background: 'white'\r\n            }}\r\n          >\r\n            <option value=\"7d\">Last 7 days</option>\r\n            <option value=\"30d\">Last 30 days</option>\r\n            <option value=\"90d\">Last 90 days</option>\r\n            <option value=\"all\">All time</option>\r\n          </select>\r\n          <button \r\n            onClick={fetchDashboardStats}\r\n            style={{\r\n              padding: '8px 16px',\r\n              background: '#3b82f6',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '6px',\r\n              cursor: 'pointer',\r\n              fontSize: '14px'\r\n            }}\r\n            disabled={loading}\r\n          >\r\n            {loading ? 'Refreshing...' : 'Refresh'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Grid */}\r\n      {stats && (\r\n        <div className=\"admin-stats-grid\">\r\n          {stats.map((stat, index) => {\r\n            const Icon = stat.icon;\r\n            const isClickable = stat.path !== null;\r\n            \r\n            return (\r\n              <div \r\n                key={index} \r\n                className={`admin-stat-card ${isClickable ? 'admin-stat-card-clickable' : ''}`}\r\n                onClick={() => {\r\n                  if (isClickable && stat.path) {\r\n                    navigate(stat.path);\r\n                  }\r\n                }}\r\n                style={{\r\n                  cursor: isClickable ? 'pointer' : 'default',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  if (isClickable) {\r\n                    e.currentTarget.style.transform = 'translateY(-2px)';\r\n                    e.currentTarget.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.1)';\r\n                  }\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  if (isClickable) {\r\n                    e.currentTarget.style.transform = 'translateY(0)';\r\n                    e.currentTarget.style.boxShadow = '';\r\n                  }\r\n                }}\r\n              >\r\n                <div className=\"admin-stat-content\">\r\n                  <div className=\"admin-stat-header\">\r\n                    <span className=\"admin-stat-title\">{stat.title}</span>\r\n                    <div className=\"admin-stat-icon\" style={{ background: `${stat.color}20` }}>\r\n                      <Icon style={{ color: stat.color }} />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"admin-stat-value\">{stat.value}</div>\r\n\r\n                  {stat.change && (\r\n                    <div className={`admin-stat-change ${stat.trend}`}>\r\n                      <span>{stat.change}</span>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {isClickable && (\r\n                    <div style={{ \r\n                      marginTop: '8px', \r\n                      fontSize: '12px', \r\n                      color: stat.color,\r\n                      fontWeight: '500',\r\n                      opacity: 0.8\r\n                    }}>\r\n                      Click to view →\r\n                    </div>\r\n                  )}\r\n                </div>    \r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n\r\n      {/* Recent Activity Section */}\r\n      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginTop: '20px' }}>\r\n        {/* Recent Properties */}\r\n        <div className=\"admin-dashboard-card\">\r\n          <h2>Recent Properties</h2>\r\n          {recentProperties.length > 0 ? (\r\n            <div style={{ marginTop: '15px' }}>\r\n              {recentProperties.map((property, index) => (\r\n                <div key={property.id || index} style={{ \r\n                  padding: '12px', \r\n                  borderBottom: index < recentProperties.length - 1 ? '1px solid #e2e8f0' : 'none',\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  alignItems: 'center'\r\n                }}>\r\n                  <div style={{ flex: 1 }}>\r\n                    <div style={{ fontWeight: '600', color: '#1e293b', marginBottom: '4px' }}>\r\n                      {property.title || 'Untitled Property'}\r\n                    </div>\r\n                    <div style={{ fontSize: '12px', color: '#64748b' }}>\r\n                      {property.seller_name || 'Unknown'} • ₹{property.price?.toLocaleString('en-IN') || '0'}\r\n                    </div>\r\n                  </div>\r\n                  <div style={{ \r\n                    padding: '4px 8px', \r\n                    borderRadius: '4px',\r\n                    background: property.is_active ? '#10b98120' : '#f59e0b20',\r\n                    color: property.is_active ? '#10b981' : '#f59e0b',\r\n                    fontSize: '11px',\r\n                    fontWeight: '500'\r\n                  }}>\r\n                    {property.is_active ? 'Active' : 'Pending'}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <p style={{ textAlign: 'center', color: '#64748b', padding: '20px' }}>\r\n              No recent properties\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Recent Inquiries */}\r\n        <div className=\"admin-dashboard-card\">\r\n          <h2>Recent Inquiries</h2>\r\n          {recentInquiries.length > 0 ? (\r\n            <div style={{ marginTop: '15px' }}>\r\n              {recentInquiries.map((inquiry, index) => (\r\n                <div key={inquiry.id || index} style={{ \r\n                  padding: '12px', \r\n                  borderBottom: index < recentInquiries.length - 1 ? '1px solid #e2e8f0' : 'none',\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  alignItems: 'center'\r\n                }}>\r\n                  <div style={{ flex: 1 }}>\r\n                    <div style={{ fontWeight: '600', color: '#1e293b', marginBottom: '4px' }}>\r\n                      {inquiry.property_title || 'Property Inquiry'}\r\n                    </div>\r\n                    <div style={{ fontSize: '12px', color: '#64748b' }}>\r\n                      {inquiry.buyer_name || 'Unknown Buyer'}\r\n                    </div>\r\n                  </div>\r\n                  <div style={{ \r\n                    padding: '4px 8px', \r\n                    borderRadius: '4px',\r\n                    background: inquiry.status === 'pending' ? '#f59e0b20' : '#10b98120',\r\n                    color: inquiry.status === 'pending' ? '#f59e0b' : '#10b981',\r\n                    fontSize: '11px',\r\n                    fontWeight: '500'\r\n                  }}>\r\n                    {inquiry.status || 'Pending'}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <p style={{ textAlign: 'center', color: '#64748b', padding: '20px' }}>\r\n              No recent inquiries\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Property Types */}\r\n      {pieSegments && pieSegments.length > 0 ? (\r\n        <div className=\"admin-dashboard-card\" style={{ marginTop: '20px' }}>\r\n          <h2>Property Types Distribution</h2>\r\n          <div className=\"admin-pie-chart-container\">\r\n            <svg viewBox=\"0 0 200 200\" className=\"admin-pie-chart\">\r\n              {pieSegments.map((segment, index) => (\r\n                <circle\r\n                  key={index}\r\n                  cx=\"100\"\r\n                  cy=\"100\"\r\n                  r=\"80\"\r\n                  fill=\"none\"\r\n                  stroke={segment.color}\r\n                  strokeWidth=\"40\"\r\n                  strokeDasharray={segment.dashArray}\r\n                  strokeDashoffset={segment.dashOffset}\r\n                  transform=\"rotate(-90 100 100)\"\r\n                />\r\n              ))}\r\n            </svg>\r\n\r\n            <div className=\"admin-pie-labels\">\r\n              {pieSegments.map((type, index) => (\r\n                <div key={index} className=\"admin-pie-label\">\r\n                  <span className=\"admin-pie-color\" style={{ background: type.color }}></span>\r\n                  <span className=\"admin-pie-text\">{type.name} {type.percentage}% ({type.count})</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"admin-dashboard-card\" style={{ marginTop: '20px' }}>\r\n          <h2>Property Types Distribution</h2>\r\n          <p style={{ textAlign: 'center', color: '#64748b', padding: '40px' }}>\r\n            No property data available\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"names":["AdminDashboard","navigate","useNavigate","stats","setStats","useState","loading","setLoading","error","setError","propertyTypes","setPropertyTypes","recentProperties","setRecentProperties","recentInquiries","setRecentInquiries","dateRange","setDateRange","useEffect","fetchDashboardStats","interval","setInterval","clearInterval","async","_statsData$total_prop","_statsData$total_user","_statsData$users_by_t","_statsData$users_by_t2","_statsData$total_agen","_statsData$total_agen2","_statsData$total_inqu","_statsData$active_sub","params","URLSearchParams","append","endpoint","concat","API_ENDPOINTS","ADMIN_DASHBOARD_STATS","toString","statsData","adminFetch","formattedStats","title","value","total_properties","change","pending_properties","trend","icon","Building2","color","path","total_users","users_by_type","buyer","seller","Users","total_agents","UserCheck","total_inquiries","new_inquiries","MessageSquare","active_subscriptions","expired_subscriptions","CreditCard","property_types_distribution","recent_properties","recent_inquiries","err","message","getColorForType","typeName","hash","i","length","charCodeAt","hue","Math","abs","saturation","lightness","generateColorFromType","pieSegments","calculatePieChart","total","reduce","sum","type","count","circumference","PI","offset","map","index","percentage","dashArray","dashOffset","_objectSpread","toFixed","name","_jsxs","className","children","_jsx","style","opacity","background","height","width","borderRadius","animation","marginTop","AlertCircle","size","marginRight","verticalAlign","fontSize","display","gap","alignItems","onChange","e","target","padding","border","cursor","onClick","disabled","stat","Icon","isClickable","transition","onMouseEnter","currentTarget","transform","boxShadow","onMouseLeave","fontWeight","gridTemplateColumns","property","_property$price","borderBottom","justifyContent","flex","marginBottom","seller_name","price","toLocaleString","is_active","id","textAlign","inquiry","property_title","buyer_name","status","viewBox","segment","cx","cy","r","fill","stroke","strokeWidth","strokeDasharray","strokeDashoffset"],"ignoreList":[],"sourceRoot":""}