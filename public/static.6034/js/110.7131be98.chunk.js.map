{"version":3,"file":"static/js/110.7131be98.chunk.js","mappings":"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","sources":["Admin/Pages/AdminModerationQueue.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { API_BASE_URL, API_ENDPOINTS } from '../../config/api.config';\r\nimport './AdminModerationQueue.css';\r\n\r\nconst AdminModerationQueue = () => {\r\n  const [queueItems, setQueueItems] = useState([]);\r\n  const [totalCount, setTotalCount] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const [reviewNotes, setReviewNotes] = useState({});\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [toast, setToast] = useState({ show: false, message: '', type: '' });\r\n\r\n  const limit = 20;\r\n\r\n  // Fetch queue items\r\n  const fetchQueue = async (page = 1) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await fetch(\r\n        `${API_BASE_URL}${API_ENDPOINTS.ADMIN_MODERATION_QUEUE}?page=${page}&limit=${limit}`,\r\n        {\r\n          method: 'GET',\r\n          credentials: 'include',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch moderation queue');\r\n      }\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setQueueItems(data.data.items || []);\r\n        setTotalCount(data.data.total || 0);\r\n        setCurrentPage(page);\r\n      } else {\r\n        throw new Error(data.message || 'Failed to fetch queue');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching queue:', error);\r\n      showToast('Failed to load moderation queue', 'error');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchQueue(currentPage);\r\n  }, []);\r\n\r\n  // Show toast notification\r\n  const showToast = (message, type = 'success') => {\r\n    setToast({ show: true, message, type });\r\n    setTimeout(() => {\r\n      setToast({ show: false, message: '', type: '' });\r\n    }, 3000);\r\n  };\r\n\r\n  // Approve image\r\n  const handleApprove = async (itemId) => {\r\n    setIsProcessing(true);\r\n    const notes = reviewNotes[itemId] || '';\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `${API_BASE_URL}${API_ENDPOINTS.ADMIN_MODERATION_APPROVE}?id=${itemId}`,\r\n        {\r\n          method: 'POST',\r\n          credentials: 'include',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({ review_notes: notes }),\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to approve image');\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        // Remove item from queue\r\n        setQueueItems(prev => prev.filter(item => item.id !== itemId));\r\n        setTotalCount(prev => prev - 1);\r\n        setReviewNotes(prev => {\r\n          const newNotes = { ...prev };\r\n          delete newNotes[itemId];\r\n          return newNotes;\r\n        });\r\n        showToast('Image approved successfully', 'success');\r\n      } else {\r\n        throw new Error(data.message || 'Failed to approve');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error approving image:', error);\r\n      showToast('Failed to approve image', 'error');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  // Reject image\r\n  const handleReject = async (itemId) => {\r\n    setIsProcessing(true);\r\n    const notes = reviewNotes[itemId] || '';\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `${API_BASE_URL}${API_ENDPOINTS.ADMIN_MODERATION_REJECT}?id=${itemId}`,\r\n        {\r\n          method: 'POST',\r\n          credentials: 'include',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({ review_notes: notes }),\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to reject image');\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        // Remove item from queue\r\n        setQueueItems(prev => prev.filter(item => item.id !== itemId));\r\n        setTotalCount(prev => prev - 1);\r\n        setReviewNotes(prev => {\r\n          const newNotes = { ...prev };\r\n          delete newNotes[itemId];\r\n          return newNotes;\r\n        });\r\n        showToast('Image rejected successfully', 'success');\r\n      } else {\r\n        throw new Error(data.message || 'Failed to reject');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error rejecting image:', error);\r\n      showToast('Failed to reject image', 'error');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  // Calculate time in queue\r\n  const getTimeInQueue = (createdAt) => {\r\n    const now = new Date();\r\n    const created = new Date(createdAt);\r\n    const diffMs = now - created;\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMins / 60);\r\n    const diffDays = Math.floor(diffHours / 24);\r\n\r\n    if (diffDays > 0) {\r\n      return `${diffDays} day${diffDays > 1 ? 's' : ''}`;\r\n    } else if (diffHours > 0) {\r\n      return `${diffHours} hour${diffHours > 1 ? 's' : ''}`;\r\n    } else {\r\n      return `${diffMins} minute${diffMins > 1 ? 's' : ''}`;\r\n    }\r\n  };\r\n\r\n  // Pagination\r\n  const totalPages = Math.ceil(totalCount / limit);\r\n  const handlePageChange = (newPage) => {\r\n    if (newPage >= 1 && newPage <= totalPages) {\r\n      fetchQueue(newPage);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-moderation-queue\">\r\n      <div className=\"moderation-header\">\r\n        <h1>Image Moderation Queue</h1>\r\n        <div className=\"queue-count\">\r\n          {totalCount} image{totalCount !== 1 ? 's' : ''} pending review\r\n        </div>\r\n      </div>\r\n\r\n      {isLoading ? (\r\n        <div className=\"loading-container\">\r\n          <div className=\"spinner\"></div>\r\n          <p>Loading moderation queue...</p>\r\n        </div>\r\n      ) : queueItems.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-icon\">✅</div>\r\n          <h2>No images pending review</h2>\r\n          <p>All images have been reviewed. Check back later for new submissions.</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"queue-grid\">\r\n            {queueItems.map((item) => (\r\n              <div key={item.id} className=\"queue-item\">\r\n                <div className=\"item-header\">\r\n                  <div className=\"item-info\">\r\n                    <span className=\"property-id\">Property ID: {item.property_id}</span>\r\n                    <span className=\"time-in-queue\">\r\n                      In queue: {getTimeInQueue(item.created_at)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"item-image\">\r\n                  <img\r\n                    src={item.image_url || '/placeholder-image.jpg'}\r\n                    alt={item.original_filename || 'Property image'}\r\n                    onClick={() => setSelectedItem(item)}\r\n                    className=\"thumbnail-image\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"item-details\">\r\n                  <div className=\"reason-for-review\">\r\n                    <strong>Reason:</strong> {item.reason_for_review || 'Needs manual review'}\r\n                  </div>\r\n\r\n                  {item.confidence_scores && Object.keys(item.confidence_scores).length > 0 && (\r\n                    <div className=\"confidence-scores\">\r\n                      <strong>Confidence Scores:</strong>\r\n                      <div className=\"score-tags\">\r\n                        {Object.entries(item.confidence_scores).map(([key, value]) => (\r\n                          <span key={key} className=\"score-tag\">\r\n                            {key}: {(value * 100).toFixed(0)}%\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className=\"review-notes-input\">\r\n                    <label>Review Notes (optional):</label>\r\n                    <textarea\r\n                      value={reviewNotes[item.id] || ''}\r\n                      onChange={(e) =>\r\n                        setReviewNotes(prev => ({\r\n                          ...prev,\r\n                          [item.id]: e.target.value\r\n                        }))\r\n                      }\r\n                      placeholder=\"Add notes about your decision...\"\r\n                      rows=\"2\"\r\n                      className=\"notes-textarea\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"action-buttons\">\r\n                    <button\r\n                      className=\"approve-button\"\r\n                      onClick={() => handleApprove(item.id)}\r\n                      disabled={isProcessing}\r\n                    >\r\n                      ✅ Approve\r\n                    </button>\r\n                    <button\r\n                      className=\"reject-button\"\r\n                      onClick={() => handleReject(item.id)}\r\n                      disabled={isProcessing}\r\n                    >\r\n                      ❌ Reject\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Pagination */}\r\n          {totalPages > 1 && (\r\n            <div className=\"pagination\">\r\n              <button\r\n                onClick={() => handlePageChange(currentPage - 1)}\r\n                disabled={currentPage === 1}\r\n                className=\"page-button\"\r\n              >\r\n                Previous\r\n              </button>\r\n              <span className=\"page-info\">\r\n                Page {currentPage} of {totalPages}\r\n              </span>\r\n              <button\r\n                onClick={() => handlePageChange(currentPage + 1)}\r\n                disabled={currentPage === totalPages}\r\n                className=\"page-button\"\r\n              >\r\n                Next\r\n              </button>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Image Modal */}\r\n      {selectedItem && (\r\n        <div className=\"image-modal\" onClick={() => setSelectedItem(null)}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            <button className=\"close-button\" onClick={() => setSelectedItem(null)}>\r\n              ×\r\n            </button>\r\n            <img\r\n              src={selectedItem.image_url || '/placeholder-image.jpg'}\r\n              alt={selectedItem.original_filename || 'Property image'}\r\n              className=\"modal-image\"\r\n            />\r\n            <div className=\"modal-info\">\r\n              <p><strong>Property ID:</strong> {selectedItem.property_id}</p>\r\n              <p><strong>Reason:</strong> {selectedItem.reason_for_review}</p>\r\n              <p><strong>Filename:</strong> {selectedItem.original_filename}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Toast Notification */}\r\n      {toast.show && (\r\n        <div className={`toast toast-${toast.type}`}>\r\n          {toast.message}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminModerationQueue;\r\n\r\n"],"names":["AdminModerationQueue","queueItems","setQueueItems","useState","totalCount","setTotalCount","currentPage","setCurrentPage","isLoading","setIsLoading","selectedItem","setSelectedItem","reviewNotes","setReviewNotes","isProcessing","setIsProcessing","toast","setToast","show","message","type","fetchQueue","async","page","arguments","length","undefined","response","fetch","concat","API_BASE_URL","API_ENDPOINTS","ADMIN_MODERATION_QUEUE","method","credentials","headers","ok","Error","data","json","success","items","total","error","console","showToast","useEffect","setTimeout","getTimeInQueue","createdAt","diffMs","Date","diffMins","Math","floor","diffHours","diffDays","totalPages","ceil","handlePageChange","newPage","_jsxs","className","children","_jsx","_Fragment","map","item","property_id","created_at","src","image_url","alt","original_filename","onClick","reason_for_review","confidence_scores","Object","keys","entries","_ref","key","value","toFixed","id","onChange","e","prev","_objectSpread","target","placeholder","rows","notes","itemId","ADMIN_MODERATION_APPROVE","body","JSON","stringify","review_notes","filter","newNotes","handleApprove","disabled","ADMIN_MODERATION_REJECT","handleReject","stopPropagation"],"ignoreList":[],"sourceRoot":""}